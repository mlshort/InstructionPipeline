<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pipeline Project: PipelineProject/Pipeline_Main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pipeline Project
   &#160;<span id="projectnumber">1</span>
   </div>
   <div id="projectbrief">Instruction Pipeline Simulation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('Pipeline__Main_8cpp.html','');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Pipeline_Main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="stdafx_8h_source.html">stdafx.h</a>&quot;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;cctype&gt;</code><br />
<code>#include &lt;locale&gt;</code><br />
<code>#include &lt;codecvt&gt;</code><br />
<code>#include &quot;<a class="el" href="DependencyGraph_8h_source.html">DependencyGraph.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="PipelineSim_8h_source.html">PipelineSim.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Pipeline_Main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="Pipeline__Main_8cpp__incl.png" border="0" usemap="#PipelineProject_2Pipeline__Main_8cpp" alt=""/></div>
<map name="PipelineProject_2Pipeline__Main_8cpp" id="PipelineProject_2Pipeline__Main_8cpp">
<area shape="rect" title=" " alt="" coords="441,5,599,47"/>
<area shape="rect" href="stdafx_8h.html" title="Application header file." alt="" coords="173,95,241,121"/>
<area shape="rect" title=" " alt="" coords="265,95,330,121"/>
<area shape="rect" title=" " alt="" coords="355,95,424,121"/>
<area shape="rect" title=" " alt="" coords="448,95,509,121"/>
<area shape="rect" title=" " alt="" coords="533,95,589,121"/>
<area shape="rect" title=" " alt="" coords="613,95,680,121"/>
<area shape="rect" href="DependencyGraph_8h.html" title="CDependencyGraph class interface." alt="" coords="705,95,845,121"/>
<area shape="rect" href="PipelineSim_8h.html" title="CPipelineSim class interface." alt="" coords="869,95,971,121"/>
<area shape="rect" href="targetver_8h.html" title="Windows OS platform header file." alt="" coords="357,169,440,196"/>
<area shape="rect" title=" " alt="" coords="5,169,67,196"/>
<area shape="rect" title=" " alt="" coords="595,169,658,196"/>
<area shape="rect" title=" " alt="" coords="91,169,146,196"/>
<area shape="rect" title=" " alt="" coords="171,169,243,196"/>
<area shape="rect" title=" " alt="" coords="267,169,333,196"/>
<area shape="rect" title=" " alt="" coords="345,244,452,271"/>
<area shape="rect" href="CommonDef_8h.html" title="Common type definitions." alt="" coords="763,169,867,196"/>
<area shape="rect" title=" " alt="" coords="531,169,571,196"/>
<area shape="rect" title=" " alt="" coords="683,169,739,196"/>
<area shape="rect" title=" " alt="" coords="891,169,949,196"/>
<area shape="rect" title=" " alt="" coords="973,169,1011,196"/>
<area shape="rect" title=" " alt="" coords="1036,169,1105,196"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8d0060505e0916d75d21e69187f905d2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a8d0060505e0916d75d21e69187f905d2">tifstream</a>&#160;&#160;&#160;std::ifstream</td></tr>
<tr class="separator:a8d0060505e0916d75d21e69187f905d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4418fbdfe47f66164862bd7f47317c8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#ac4418fbdfe47f66164862bd7f47317c8">tstringstream</a>&#160;&#160;&#160;std::stringstream</td></tr>
<tr class="separator:ac4418fbdfe47f66164862bd7f47317c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a97ef98457a10772f08719bea2415c5e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a97ef98457a10772f08719bea2415c5e9">CalculateSequentialExecutionCycles</a> (const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag) noexcept</td></tr>
<tr class="memdesc:a97ef98457a10772f08719bea2415c5e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">CalculateSequentialExecutionCycles calculates the number of cycles required to "sequentially" execute a set of instructions.  <a href="Pipeline__Main_8cpp.html#a97ef98457a10772f08719bea2415c5e9">More...</a><br /></td></tr>
<tr class="separator:a97ef98457a10772f08719bea2415c5e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b7a9cf21768287a182ee6a3ac0c8d2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a43b7a9cf21768287a182ee6a3ac0c8d2">CalculateCompleteOverlappedExecutionCycles</a> (const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag) noexcept</td></tr>
<tr class="memdesc:a43b7a9cf21768287a182ee6a3ac0c8d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">CalculateCompleteOverlappedExecutionCycles calculates the best case execution scenario in terms of minimum number of cycles required to execute the set of instructions.  <a href="Pipeline__Main_8cpp.html#a43b7a9cf21768287a182ee6a3ac0c8d2">More...</a><br /></td></tr>
<tr class="separator:a43b7a9cf21768287a182ee6a3ac0c8d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92c02fcbdbb9793f0f159b8721611431"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a92c02fcbdbb9793f0f159b8721611431">CalculatePartialOverlappedExecutionCycles</a> (const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag) noexcept</td></tr>
<tr class="memdesc:a92c02fcbdbb9793f0f159b8721611431"><td class="mdescLeft">&#160;</td><td class="mdescRight">CalculatePartialOverlappedExecutionCycles computes the number of cycles required to execute a set of instruction using a 4-staged pipeline and factoring in delays introduced to address instruction-level data dependencies.  <a href="Pipeline__Main_8cpp.html#a92c02fcbdbb9793f0f159b8721611431">More...</a><br /></td></tr>
<tr class="separator:a92c02fcbdbb9793f0f159b8721611431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0e910dd8ec1b6582ce41c3cf6818083"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#ab0e910dd8ec1b6582ce41c3cf6818083">CalculateNumberOfStallsRequired</a> (const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag) noexcept</td></tr>
<tr class="memdesc:ab0e910dd8ec1b6582ce41c3cf6818083"><td class="mdescLeft">&#160;</td><td class="mdescRight">CalculateNumberOfStallsRequired calculates data-dependent pipeline stalls.  <a href="Pipeline__Main_8cpp.html#ab0e910dd8ec1b6582ce41c3cf6818083">More...</a><br /></td></tr>
<tr class="separator:ab0e910dd8ec1b6582ce41c3cf6818083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09977bfcc4c1bb9b1e28b7ce1e268ef0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a09977bfcc4c1bb9b1e28b7ce1e268ef0">ExecutePipelineSimulation</a> (<a class="el" href="classCPipelineSim.html">CPipelineSim</a> &amp;sim, const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag) noexcept</td></tr>
<tr class="memdesc:a09977bfcc4c1bb9b1e28b7ce1e268ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs basic pipeline process simulation.  <a href="Pipeline__Main_8cpp.html#a09977bfcc4c1bb9b1e28b7ce1e268ef0">More...</a><br /></td></tr>
<tr class="separator:a09977bfcc4c1bb9b1e28b7ce1e268ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f7623a983265424971eb3285caadc8"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#aa3f7623a983265424971eb3285caadc8">LoadData</a> (const TCHAR *szFileName, <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;dag)</td></tr>
<tr class="memdesc:aa3f7623a983265424971eb3285caadc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">LoadData performs basic file level data input.  <a href="Pipeline__Main_8cpp.html#aa3f7623a983265424971eb3285caadc8">More...</a><br /></td></tr>
<tr class="separator:aa3f7623a983265424971eb3285caadc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353674c5af92be7fb389265cde4e5e03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a353674c5af92be7fb389265cde4e5e03">_tmain</a> (int argc, _TCHAR *argv[])</td></tr>
<tr class="separator:a353674c5af92be7fb389265cde4e5e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af45d01c32db567fc544c054cbf621c29"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#af45d01c32db567fc544c054cbf621c29">MAX_INSTRUCTIONS</a> = 25</td></tr>
<tr class="memdesc:af45d01c32db567fc544c054cbf621c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum instructions specified  <a href="Pipeline__Main_8cpp.html#af45d01c32db567fc544c054cbf621c29">More...</a><br /></td></tr>
<tr class="separator:af45d01c32db567fc544c054cbf621c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7706857fed40786095e62cc0e47249b0"><td class="memItemLeft" align="right" valign="top">constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a7706857fed40786095e62cc0e47249b0">BASE_CYCLES_PER_INSTUCTION</a> = 4</td></tr>
<tr class="memdesc:a7706857fed40786095e62cc0e47249b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">non-overlapped cycles required to execute 1 instruction in a 4 staged-pipeline  <a href="Pipeline__Main_8cpp.html#a7706857fed40786095e62cc0e47249b0">More...</a><br /></td></tr>
<tr class="separator:a7706857fed40786095e62cc0e47249b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539b3b4dc6f69f1e8cc5d0c6098c6002"><td class="memItemLeft" align="right" valign="top">constexpr TCHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a539b3b4dc6f69f1e8cc5d0c6098c6002">g_szFileName</a> [] = _T(&quot;InstructionInputData.txt&quot;)</td></tr>
<tr class="memdesc:a539b3b4dc6f69f1e8cc5d0c6098c6002"><td class="mdescLeft">&#160;</td><td class="mdescRight">File used to read in test case data.  <a href="Pipeline__Main_8cpp.html#a539b3b4dc6f69f1e8cc5d0c6098c6002">More...</a><br /></td></tr>
<tr class="separator:a539b3b4dc6f69f1e8cc5d0c6098c6002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda4f02a725ac8931fec452e5e585227"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCDependencyGraph.html">CDependencyGraph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#aeda4f02a725ac8931fec452e5e585227">g_DAG</a> (<a class="el" href="Pipeline__Main_8cpp.html#af45d01c32db567fc544c054cbf621c29">MAX_INSTRUCTIONS</a>)</td></tr>
<tr class="memdesc:aeda4f02a725ac8931fec452e5e585227"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global directed acyclic graph object.  <a href="Pipeline__Main_8cpp.html#aeda4f02a725ac8931fec452e5e585227">More...</a><br /></td></tr>
<tr class="separator:aeda4f02a725ac8931fec452e5e585227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b45627906ac0c6775c5ab6825f554a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCPipelineSim.html">CPipelineSim</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="Pipeline__Main_8cpp.html#a7b45627906ac0c6775c5ab6825f554a0">g_PipelineSim</a></td></tr>
<tr class="memdesc:a7b45627906ac0c6775c5ab6825f554a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global pipeline simulation object.  <a href="Pipeline__Main_8cpp.html#a7b45627906ac0c6775c5ab6825f554a0">More...</a><br /></td></tr>
<tr class="separator:a7b45627906ac0c6775c5ab6825f554a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a8d0060505e0916d75d21e69187f905d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0060505e0916d75d21e69187f905d2">&#9670;&nbsp;</a></span>tifstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tifstream&#160;&#160;&#160;std::ifstream</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac4418fbdfe47f66164862bd7f47317c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4418fbdfe47f66164862bd7f47317c8">&#9670;&nbsp;</a></span>tstringstream</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define tstringstream&#160;&#160;&#160;std::stringstream</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a353674c5af92be7fb389265cde4e5e03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a353674c5af92be7fb389265cde4e5e03">&#9670;&nbsp;</a></span>_tmain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _tmain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_TCHAR *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Pipeline__Main_8cpp_a353674c5af92be7fb389265cde4e5e03_cgraph.png" border="0" usemap="#Pipeline__Main_8cpp_a353674c5af92be7fb389265cde4e5e03_cgraph" alt=""/></div>
<map name="Pipeline__Main_8cpp_a353674c5af92be7fb389265cde4e5e03_cgraph" id="Pipeline__Main_8cpp_a353674c5af92be7fb389265cde4e5e03_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,67,134"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#a09977bfcc4c1bb9b1e28b7ce1e268ef0" title="Performs basic pipeline process simulation." alt="" coords="115,78,292,105"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#aa3f7623a983265424971eb3285caadc8" title="LoadData performs basic file level data input." alt="" coords="165,137,242,163"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#a92c02fcbdbb9793f0f159b8721611431" title="CalculatePartialOverlappedExecutionCycles computes the number of cycles required to execute a set of ..." alt="" coords="351,5,528,47"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#a97ef98457a10772f08719bea2415c5e9" title="CalculateSequentialExecutionCycles calculates the number of cycles required to &quot;sequentially&quot; execute..." alt="" coords="342,71,537,112"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#ab0e910dd8ec1b6582ce41c3cf6818083" title="CalculateNumberOfStallsRequired calculates data&#45;dependent pipeline stalls." alt="" coords="587,13,805,39"/>
<area shape="rect" href="classCDependencyGraph.html#a3763976b478505ef4e1e3b5c68f5edd8" title="Adds a directed edge between 2 existing nodes." alt="" coords="340,137,539,163"/>
<area shape="rect" href="classCDependencyGraph.html#a1eae3786c573d4a55e87aa24c04f6150" title="This method adds a new node to the graph." alt="" coords="340,187,539,214"/>
</map>
</div>

</div>
</div>
<a id="a43b7a9cf21768287a182ee6a3ac0c8d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43b7a9cf21768287a182ee6a3ac0c8d2">&#9670;&nbsp;</a></span>CalculateCompleteOverlappedExecutionCycles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CalculateCompleteOverlappedExecutionCycles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CalculateCompleteOverlappedExecutionCycles calculates the best case execution scenario in terms of minimum number of cycles required to execute the set of instructions. </p>
<p>The basic formula to calculate the execution cycles required to run N instructions in a 4 staged pipeline is something like:</p>
<ol type="1">
<li>Calculate number of cycles to execute 1st instruction, in this case it is 4 cycles.</li>
<li>Then, based on the fact that a subsequent instruction will complete every cycle from cycle 4 on, for N number of instructions, therefore it will take <b>N + 3 cycles</b> to run the entire set of N instructions.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dag</td><td>DAG object containing a list of instructions</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of overlapped cycles (with no delays) required to run the instructions contained in DAG </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab0e910dd8ec1b6582ce41c3cf6818083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0e910dd8ec1b6582ce41c3cf6818083">&#9670;&nbsp;</a></span>CalculateNumberOfStallsRequired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CalculateNumberOfStallsRequired </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CalculateNumberOfStallsRequired calculates data-dependent pipeline stalls. </p>
<p>This function identifies and calculates the number Pipeline stalls introduced into the pipeline to avoid data-dependency hazards in the pipelined execution of the set of instructions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dag</td><td>DAG object containing a list of instructions</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number pipeline stalls required to <br  />
 address instruction data dependencies identified in a the DAGi </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a92c02fcbdbb9793f0f159b8721611431"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92c02fcbdbb9793f0f159b8721611431">&#9670;&nbsp;</a></span>CalculatePartialOverlappedExecutionCycles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CalculatePartialOverlappedExecutionCycles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CalculatePartialOverlappedExecutionCycles computes the number of cycles required to execute a set of instruction using a 4-staged pipeline and factoring in delays introduced to address instruction-level data dependencies. </p>
<p>The basic formula needed to calculate the execution cycles required to run N instructions in a 4 staged pipeline is :</p>
<ol type="1">
<li>Use the calculation from the formula above to determine the minimum number of cycles required. In this case it is: <b>N + 3 cycles</b>.</li>
<li>Then add 1 cycle for each delay introduced.</li>
</ol>
<p>Considering the initial program data provided in this assignment :</p>
<ol type="1">
<li>6 instructions to be executed. Minimum execution time is N + 3 cycles, or 9 cycles in this case.</li>
<li>2 bubbles or stalls were introduced due to data - dependencies.</li>
<li>9 cycles + 2 cycles ( for the stalls ) = 11 cycles. This is the same result as reported in the assignment example.</li>
<li><p class="startli">So the resultant formula to calculate the number of cycles for a partial overlapped pipelined execution of N instructions given M stalls introduced is : <b>N + 3 + M cycles</b></p>
<p class="startli">So, how do we find the number of stalls required to be introduced due to data dependencies ? In this scenario given only a 4 cycle "data
  hazard" window of opportunity, and considering data reads occur in the 3rd stage ( EX ), while data writes are only accessible after WB ( to be interpreted as the 5th stage ), that further narrows the "data hazard
  window" down to 2 cycles. The only way a data hazard could occur is if there is a data dependency between two immediately sequential instructions.</p>
<p class="startli">It is deduced that the very worst possible case of extreme data dependency requiring a stall for every instruction would only require at most :</p>
<p class="startli"><b>N + 3 cycles</b> for the instructions, plus another <b>N - 1 cycles</b> for adding 1 bubble / stall cycle for every instruction after the 1st.</p>
<p class="startli">Therefore <b>( 2 * N ) + 2 cycles</b> would be the worst possible number of cycles required to run any set of instructions overlapped.</p>
</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dag</td><td>DAG object containing a list of instructions</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number of overlapped cycles (with delays) required to run the instructions contained in DAG </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Pipeline__Main_8cpp_a92c02fcbdbb9793f0f159b8721611431_cgraph.png" border="0" usemap="#Pipeline__Main_8cpp_a92c02fcbdbb9793f0f159b8721611431_cgraph" alt=""/></div>
<map name="Pipeline__Main_8cpp_a92c02fcbdbb9793f0f159b8721611431_cgraph" id="Pipeline__Main_8cpp_a92c02fcbdbb9793f0f159b8721611431_cgraph">
<area shape="rect" title="CalculatePartialOverlappedExecutionCycles computes the number of cycles required to execute a set of ..." alt="" coords="5,5,183,47"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#ab0e910dd8ec1b6582ce41c3cf6818083" title="CalculateNumberOfStallsRequired calculates data&#45;dependent pipeline stalls." alt="" coords="231,13,449,39"/>
</map>
</div>

</div>
</div>
<a id="a97ef98457a10772f08719bea2415c5e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ef98457a10772f08719bea2415c5e9">&#9670;&nbsp;</a></span>CalculateSequentialExecutionCycles()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CalculateSequentialExecutionCycles </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CalculateSequentialExecutionCycles calculates the number of cycles required to "sequentially" execute a set of instructions. </p>
<p>The basic formula to calculate the execution cycles required to run N instructions sequentially (non-overlapped) in this scenario is: <b>N * 4 cycles</b></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dag</td><td>DAG object containing a list of instructions</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>the number sequential cycles required to run the instructions contained in DAG </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a09977bfcc4c1bb9b1e28b7ce1e268ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09977bfcc4c1bb9b1e28b7ce1e268ef0">&#9670;&nbsp;</a></span>ExecutePipelineSimulation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ExecutePipelineSimulation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCPipelineSim.html">CPipelineSim</a> &amp;&#160;</td>
          <td class="paramname"><em>sim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs basic pipeline process simulation. </p>
<p>ExecutePipelineSimulation takes instruction data contain in an DAG and feeds it to the simulation object for running of the instruction pipeline simulation</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">sim</td><td>Simulation object </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dag</td><td>DAG object containing a list of instructions</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>on success </td></tr>
    <tr><td class="paramname">false</td><td>on error </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Pipeline__Main_8cpp_a09977bfcc4c1bb9b1e28b7ce1e268ef0_cgraph.png" border="0" usemap="#Pipeline__Main_8cpp_a09977bfcc4c1bb9b1e28b7ce1e268ef0_cgraph" alt=""/></div>
<map name="Pipeline__Main_8cpp_a09977bfcc4c1bb9b1e28b7ce1e268ef0_cgraph" id="Pipeline__Main_8cpp_a09977bfcc4c1bb9b1e28b7ce1e268ef0_cgraph">
<area shape="rect" title="Performs basic pipeline process simulation." alt="" coords="5,46,183,73"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#a92c02fcbdbb9793f0f159b8721611431" title="CalculatePartialOverlappedExecutionCycles computes the number of cycles required to execute a set of ..." alt="" coords="239,5,417,47"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#a97ef98457a10772f08719bea2415c5e9" title="CalculateSequentialExecutionCycles calculates the number of cycles required to &quot;sequentially&quot; execute..." alt="" coords="231,71,425,112"/>
<area shape="rect" href="Pipeline__Main_8cpp.html#ab0e910dd8ec1b6582ce41c3cf6818083" title="CalculateNumberOfStallsRequired calculates data&#45;dependent pipeline stalls." alt="" coords="473,13,692,39"/>
</map>
</div>

</div>
</div>
<a id="aa3f7623a983265424971eb3285caadc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f7623a983265424971eb3285caadc8">&#9670;&nbsp;</a></span>LoadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t LoadData </td>
          <td>(</td>
          <td class="paramtype">const TCHAR *&#160;</td>
          <td class="paramname"><em>szFileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> &amp;&#160;</td>
          <td class="paramname"><em>dag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>LoadData performs basic file level data input. </p>
<p>This method reads input data from text file and returns contents in a directed acyclic graph</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">szFileName</td><td>name of the data file to be loaded </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dag</td><td>reference to a dag object</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">size_t</td><td>the number of item nodes read into the graph </td></tr>
  </table>
  </dd>
</dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="Pipeline__Main_8cpp_aa3f7623a983265424971eb3285caadc8_cgraph.png" border="0" usemap="#Pipeline__Main_8cpp_aa3f7623a983265424971eb3285caadc8_cgraph" alt=""/></div>
<map name="Pipeline__Main_8cpp_aa3f7623a983265424971eb3285caadc8_cgraph" id="Pipeline__Main_8cpp_aa3f7623a983265424971eb3285caadc8_cgraph">
<area shape="rect" title="LoadData performs basic file level data input." alt="" coords="5,31,83,57"/>
<area shape="rect" href="classCDependencyGraph.html#a3763976b478505ef4e1e3b5c68f5edd8" title="Adds a directed edge between 2 existing nodes." alt="" coords="131,5,329,32"/>
<area shape="rect" href="classCDependencyGraph.html#a1eae3786c573d4a55e87aa24c04f6150" title="This method adds a new node to the graph." alt="" coords="131,56,329,83"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7706857fed40786095e62cc0e47249b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7706857fed40786095e62cc0e47249b0">&#9670;&nbsp;</a></span>BASE_CYCLES_PER_INSTUCTION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int BASE_CYCLES_PER_INSTUCTION = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>non-overlapped cycles required to execute 1 instruction in a 4 staged-pipeline </p>

</div>
</div>
<a id="aeda4f02a725ac8931fec452e5e585227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeda4f02a725ac8931fec452e5e585227">&#9670;&nbsp;</a></span>g_DAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCDependencyGraph.html">CDependencyGraph</a> g_DAG(<a class="el" href="Pipeline__Main_8cpp.html#af45d01c32db567fc544c054cbf621c29">MAX_INSTRUCTIONS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global directed acyclic graph object. </p>

</div>
</div>
<a id="a7b45627906ac0c6775c5ab6825f554a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b45627906ac0c6775c5ab6825f554a0">&#9670;&nbsp;</a></span>g_PipelineSim</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCPipelineSim.html">CPipelineSim</a> g_PipelineSim</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Global pipeline simulation object. </p>

</div>
</div>
<a id="a539b3b4dc6f69f1e8cc5d0c6098c6002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539b3b4dc6f69f1e8cc5d0c6098c6002">&#9670;&nbsp;</a></span>g_szFileName</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr TCHAR g_szFileName[] = _T(&quot;InstructionInputData.txt&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File used to read in test case data. </p>

</div>
</div>
<a id="af45d01c32db567fc544c054cbf621c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af45d01c32db567fc544c054cbf621c29">&#9670;&nbsp;</a></span>MAX_INSTRUCTIONS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int MAX_INSTRUCTIONS = 25</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum instructions specified </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1e04774da949157f80bcaabb84f946f7.html">PipelineProject</a></li><li class="navelem"><a class="el" href="Pipeline__Main_8cpp.html">Pipeline_Main.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.16 </li>
  </ul>
</div>
</body>
</html>
